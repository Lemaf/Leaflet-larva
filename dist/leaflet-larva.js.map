{"version":3,"sources":["L.larva.js","package.js","Path.js","Polyline.js","../frame/package.js","../frame/Path.js","../ext/L.Polyline.js","../frame/Style.js","Polyline.Move.js"],"names":["L","larva","version","getHeight","el","offsetHeight","getWidth","offsetWidth","handler","Path","Handler","extend","includes","Evented","prototype","initialize","path","frameStyle","options","setOptions","_path","_frameStyle","addInitHook","Polyline","frame","Layer","statics","TOP_LEFT","TOP_MIDDLE","TOP_RIGHT","MIDDLE_LEFT","MIDDLE_MIDDLE","MIDDLE_RIGHT","BOTTOM_LEFT","BOTTOM_MIDDLE","BOTTOM_RIGHT","pane","_pathFrame","beforeAdd","map","getPane","createPane","getEvents","zoom","_updateFrame","getDraggable","_draggable","getPosition","DomUtil","_el","hideHandle","i","arguments","length","_handles","style","display","onAdd","create","DomEvent","on","_onStart","forEach","id","_id","Draggable","START","join","_draggables","_updateHandles","onRemove","disable","off","stop","remove","empty","setStyle","oldStyle","_style","removeClass","className","addClass","hide","draggable","enable","_updateDraggable","updateBounds","evt","fire","mouseEvent","target","document","MOVE","type","_onMove","END","_onEnd","left","offsetLeft","top","offsetTop","marginLeft","parseInt","marginTop","setPosition","point","bounds","getBounds","southEastPoint","_map","latLngToLayerPoint","getSouthEast","northWestPoint","getNorthWest","computedStyle","getComputedStyle","x","borderLeftWidth","borderRightWidth","y","borderTopWidth","borderBottomWidth","width","height","right","bottom","widthOf","heightOf","borderWidth","br","bm","bl","mm","ml","mr","tr","tm","tl","pathFrame","pathframe","forEachLatLng","include","fn","context","latlngs","getLatLngs","Array","isArray","reduce","array","concat","_bounds","LatLngBounds","latlng","Style","Move","Resize","Rotate","addHooks","_frame","addTo","_onDragStart","_onDragMove","_onDragEnd","console","log","mouseEvt","pos","touches","dx","dy","_axis","undefined","clientX","_startPoint","clientY","vector","projected","newLatLng","_original","add","layerPointToLatLng","lat","lng","redraw","_startNorthWest","startPos","clone","move"],"mappings":"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","file":"leaflet-larva.js","sourcesContent":["L.larva = {\n\tversion: '0.1.0',\n\n\tgetHeight: function (el) {\n\t\treturn el.offsetHeight;\n\t},\n\n\tgetWidth: function (el) {\n\t\treturn el.offsetWidth;\n\t}\n};","L.larva.handler = {\n\n};","/**\n * @requires package.js\n * \n * Base class for Path handlers\n */\nL.larva.handler.Path = L.Handler.extend({\n\n\tincludes: [L.Evented.prototype],\n\n\tinitialize: function (path, frameStyle, options) {\n\t\tL.setOptions(this, options);\n\n\t\tthis._path = path;\n\t\tthis._frameStyle = frameStyle;\n\t}\n\n});\n\nL.Path.addInitHook(function () {\n\tthis.larva = {};\n});","/**\n * @requires Path.js\n */\nL.larva.handler.Polyline = L.larva.handler.Path.extend({\n\n\toptions: {\n\t\t\n\t}\n\n});","L.larva.frame = {\n\n};","/**\n * @requires package.js\n */\nL.larva.frame.Path = L.Layer.extend({\n\n\tstatics: {\n\t\tTOP_LEFT: 'tl',\n\t\tTOP_MIDDLE: 'tm',\n\t\tTOP_RIGHT: 'tl',\n\t\tMIDDLE_LEFT: 'ml',\n\t\tMIDDLE_MIDDLE: 'mm',\n\t\tMIDDLE_RIGHT: 'mr',\n\t\tBOTTOM_LEFT: 'bl',\n\t\tBOTTOM_MIDDLE: 'bm',\n\t\tBOTTOM_RIGHT: 'br'\n\t},\n\n\toptions: {\n\t\tpane: 'llarvaPathframe'\n\t},\n\n\tinitialize: function (path) {\n\t\tif (path._pathFrame && path._pathFrame instanceof L.larva.frame.Path) {\n\t\t\treturn path._pathFrame;\n\t\t}\n\n\t\tpath._pathFrame = this;\n\t\tthis._path = path;\n\t},\n\n\tbeforeAdd: function (map) {\n\t\tif (!map.getPane(this.options.pane)) {\n\t\t\tmap.createPane(this.options.pane);\n\t\t}\n\t},\n\n\tgetEvents: function () {\n\t\treturn {\n\t\t\tzoom: this._updateFrame\n\t\t};\n\t},\n\n\tgetDraggable: function () {\n\t\treturn this._draggable;\n\t},\n\n\tgetPosition: function() {\n\t\treturn L.DomUtil.getPosition(this._el);\n\t},\n\n\thideHandle: function() {\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tif (this._handles[arguments[i]]) {\n\t\t\t\tthis._handles[arguments[i]].style.display = 'none';\n\t\t\t}\n\t\t}\n\t},\n\n\tonAdd: function () {\n\t\tvar el = this._el = L.DomUtil.create('div', 'llarva-pathframe', this.getPane());\n\t\tL.DomEvent.on(el, 'mousedown', this._onStart, this);\n\n\t\tthis._handles = {};\n\n\t\t['tl','tm','tr','ml','mm','mr','bl','bm','br'].forEach(function (id) {\n\n\t\t\tthis._handles[id] = L.DomUtil.create('div', 'llarva-pathframe-' + id, el);\n\t\t\tthis._handles[id]._id = id;\n\t\t\tL.DomEvent.on(this._handles[id], L.Draggable.START.join(' '), this._onStart, this);\n\n\t\t}, this);\n\n\t\tthis._draggable = new L.Draggable(el);\n\t\tthis._draggables = {};\n\t\tthis._updateFrame();\n\t\tthis._updateHandles();\n\t},\n\n\tonRemove: function() {\n\t\tvar id;\n\n\t\tif (this._draggable) {\n\t\t\tthis._draggable.disable();\n\t\t}\n\n\t\tfor (id in this._draggables) {\n\t\t\tthis._draggables[id].disable();\n\t\t}\n\n\t\tL.DomEvent.off(this._el, 'mousedown click', L.DomEvent.stop);\n\n\t\tfor (id in this._handles) {\n\t\t\tL.DomEvent.off(this._handles[id], 'mousedown click', L.DomEvent.stop);\n\t\t}\n\n\t\tL.DomUtil.remove(this._el);\n\t\tL.DomUtil.empty(this._el);\n\n\t\tdelete this._el;\n\t},\n\n\tsetStyle: function (style) {\n\t\tvar id, el, oldStyle = this._style;\n\n\t\tfor (id in this._handles) {\n\t\t\tel = this._handles[id];\n\t\t\tel.style.display = 'block';\n\n\t\t\tif (this._draggables[id]) {\n\t\t\t\tthis._draggables[id].disable();\n\t\t\t\tdelete this._draggables[id];\n\t\t\t}\n\n\t\t\tif (oldStyle) {\n\t\t\t\tL.DomUtil.removeClass(el, oldStyle.className + '-' + id);\n\t\t\t}\n\n\t\t\tL.DomUtil.addClass(el, style.className + '-' + id);\n\n\t\t\tif (style[id]) {\n\t\t\t\tif (style[id].hide) {\n\t\t\t\t\tel.style.display = 'none';\n\t\t\t\t}\n\n\t\t\t\tif (style[id].draggable) {\n\t\t\t\t\tthis._draggables[id] = new L.Draggable(el);\n\t\t\t\t\tthis._draggables[id].enable();\n\t\t\t\t\tL.DomEvent.off(el, 'mousedown click', L.DomEvent.stop);\n\n\t\t\t\t\tthis._updateDraggable(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (oldStyle) {\n\t\t\tL.DomUtil.removeClass(this._el, oldStyle.className);\n\t\t}\n\n\t\tL.DomUtil.addClass(this._el, style.className);\n\n\t\tthis._style = style;\n\t},\n\n\tupdateBounds: function () {\n\t\tthis._updateFrame();\n\t},\n\n\t_onStart: function (evt) {\n\t\tL.DomEvent.stop(evt);\n\n\t\tthis.fire('drag:start', {\n\t\t\tmouseEvent: evt,\n\t\t\tid: evt.target._id\n\t\t});\n\n\t\tL.DomEvent\n\t\t\t.on(document, L.Draggable.MOVE[evt.type], this._onMove, this)\n\t\t\t.on(document, L.Draggable.END[evt.type], this._onEnd, this);\n\t},\n\n\t_onMove: function (evt) {\n\t\tL.DomEvent.stop(evt);\n\n\t\tthis.fire('drag:move', {\n\t\t\tmouseEvent: evt\n\t\t});\n\t},\n\n\t_onEnd: function (evt) {\n\t\tL.DomEvent.stop(evt);\n\n\t\tfor (var id in L.Draggable.MOVE) {\n\t\t\tL.DomEvent\n\t\t\t\t.off(document, L.Draggable.MOVE[id], this._onMove, this)\n\t\t\t\t.off(document, L.Draggable.END[id], this._onEnd, this);\n\t\t}\n\n\t\tthis.fire('drag:end', {\n\t\t\tmouseEvent: evt\n\t\t});\n\t},\n\n\t_updateDraggable: function (id) {\n\t\tvar el = this._handles[id];\n\t\tvar left = el.offsetLeft,\n\t\ttop = el.offsetTop;\n\n\t\tif (el.style.marginLeft) {\n\t\t\tleft -= parseInt(el.style.marginLeft);\n\t\t}\n\n\t\tif (el.style.marginTop) {\n\t\t\ttop -= parseInt(el.style.marginTop);\n\t\t}\n\n\t\tL.extend(el.style, {\n\t\t\tleft: '0px', top: '0px'\n\t\t});\n\n\t\tL.DomUtil.setPosition(el, L.point(left, top));\n\t},\n\n\t_updateFrame: function () {\n\t\tvar bounds = this._path.getBounds();\n\n\t\tvar southEastPoint = this._map.latLngToLayerPoint(bounds.getSouthEast()),\n\t\tnorthWestPoint = this._map.latLngToLayerPoint(bounds.getNorthWest());\n\n\t\tvar computedStyle = getComputedStyle(this._el);\n\n\t\tL.DomUtil.setPosition(this._el, northWestPoint);\n\n\n\t\tvar x = parseInt(computedStyle.borderLeftWidth) + parseInt(computedStyle.borderRightWidth),\n\t\ty = parseInt(computedStyle.borderTopWidth) + parseInt(computedStyle.borderBottomWidth);\n\n\t\tthis._el.style.width = (southEastPoint.x - northWestPoint.x - x) + 'px';\n\t\tthis._el.style.height = (southEastPoint.y - northWestPoint.y - y) + 'px';\n\n\t\tthis.southEastPoint = southEastPoint;\n\t\tthis.northWestPoint = northWestPoint;\n\t},\n\n\t_updateHandles: function () {\n\t\tvar el, computedStyle, right, bottom, left, top;\n\t\tvar widthOf = L.larva.getWidth, heightOf = L.larva.getHeight;\n\n\t\tcomputedStyle = getComputedStyle(this._el);\n\n\t\tvar borderWidth = {\n\t\t\tbottom: 'borderBottomWidth',\n\t\t\tleft: 'borderLeftWidth',\n\t\t\tright: 'borderRightWidth',\n\t\t\ttop: 'borderTopWidth'\n\t\t};\n\n\t\tfor (var id in borderWidth) {\n\t\t\tborderWidth[id] = parseInt(computedStyle[borderWidth[id]]) / 2;\n\t\t}\n\n\t\tel = this._handles.br;\n\n\t\tright = (- (widthOf(el) / 2) - borderWidth.right) + 'px';\n\t\tbottom = (- (heightOf(el) / 2) - borderWidth.bottom) + 'px';\n\n\t\tL.extend(el.style, {\n\t\t\tright: right,\n\t\t\tbottom: bottom\n\t\t});\n\n\t\tel = this._handles.bm;\n\t\tleft = (-(widthOf(el) / 2)) + 'px';\n\t\tbottom = (- (heightOf(el) / 2) - borderWidth.bottom) + 'px';\n\n\t\tL.extend(el.style, {\n\t\t\tleft: '50%',\n\t\t\t'margin-left': left,\n\t\t\tbottom: bottom\n\t\t});\n\n\t\tel = this._handles.bl;\n\t\tleft = (-(widthOf(el) / 2) - borderWidth.left) + 'px';\n\t\tbottom = (- (heightOf(el) / 2) - borderWidth.bottom) + 'px';\n\t\tL.extend(el.style, {\n\t\t\tleft: left,\n\t\t\tbottom: bottom\n\t\t});\n\n\t\tel = this._handles.mm;\n\t\tleft = -(widthOf(el) / 2) + 'px';\n\t\ttop = -(heightOf(el) / 2) + 'px';\n\t\tL.extend(el.style, {\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\t'margin-left': left,\n\t\t\t'margin-top': top\n\t\t});\n\n\t\tel = this._handles.ml;\n\t\ttop = -(heightOf(el) / 2) + 'px';\n\t\tleft = (-(widthOf(el) / 2) - borderWidth.left) + 'px';\n\t\tL.extend(el.style, {\n\t\t\ttop: '50%',\n\t\t\t'margin-top': top,\n\t\t\tleft: left\n\t\t});\n\n\t\tel = this._handles.mr;\n\t\tright = (- (widthOf(el) / 2) - borderWidth.right) + 'px';\n\t\ttop = -(heightOf(el) / 2) + 'px';\n\t\tL.extend(el.style, {\n\t\t\tright: right,\n\t\t\ttop: '50%',\n\t\t\t'margin-top': top\n\t\t});\n\n\t\tel = this._handles.tr;\n\t\tright = (-(widthOf(el) / 2) - borderWidth.right) + 'px';\n\t\ttop = (-(heightOf(el) / 2) - borderWidth.top) + 'px';\n\t\tL.extend(el.style, {\n\t\t\tright: right,\n\t\t\ttop: top\n\t\t});\n\n\t\tel = this._handles.tm;\n\t\ttop = (-(heightOf(el) / 2) - borderWidth.top) + 'px';\n\t\tleft = -(widthOf(el) / 2) + 'px';\n\t\tL.extend(el.style, {\n\t\t\tleft: '50%',\n\t\t\t'margin-left': left,\n\t\t\ttop: top\n\t\t});\n\n\t\tel = this._handles.tl;\n\t\ttop = (-(heightOf(el) / 2) - borderWidth.top) + 'px';\n\t\tleft = (-(widthOf(el) / 2) - borderWidth.left) + 'px';\n\t\tL.extend(el.style, {\n\t\t\tleft: left,\n\t\t\ttop: top\n\t\t});\n\t}\n});\n\nL.larva.pathFrame = function pathframe (path) {\n\treturn new L.larva.frame.Path(path);\n};","if (!L.Polyline.prototype.forEachLatLng) {\n\tL.Polyline.include({\n\n\t\tforEachLatLng: function (fn, context) {\n\t\t\tvar latlngs = this.getLatLngs();\n\n\t\t\tif (!latlngs.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (Array.isArray(latlngs[0])) {\n\t\t\t\t// nested array\n\n\t\t\t\tlatlngs = latlngs.reduce(function (array, latlngs) {\n\t\t\t\t\treturn array.concat(latlngs);\n\t\t\t\t}, []);\n\t\t\t}\n\n\t\t\tlatlngs.forEach(fn, context);\n\t\t}\n\t});\n}\n\nif (!L.Polyline.prototype.updateBounds) {\n\tL.Polyline.include({\n\n\t\tupdateBounds: function () {\n\t\t\tvar bounds = this._bounds = new L.LatLngBounds();\n\n\t\t\tthis.forEachLatLng(function (latlng) {\n\t\t\t\tbounds.extend(latlng);\n\t\t\t});\n\t\t}\n\n\t});\n}","/**\n * @requires package.js\n */\n\nL.larva.frame.Style = {\n\t\n};\n\nL.larva.frame.Style.Move = {\n\tclassName: 'llarva-pathframe-move',\n\t\n\ttl: {\n\t\thide: true\n\t},\n\n\ttr: {\n\t\thide: true\n\t},\n\n\tmm: {\n\t\thide: true\n\t},\n\n\tbl: {\n\t\thide: true\n\t},\n\n\tbr: {\n\t\thide: true\n\t}\n};\n\nL.larva.frame.Style.Resize = {\n\tclassName: 'llarva-pathframe-resize',\n\tmm: {\n\t\thide: true\n\t}\n};\n\nL.larva.frame.Style.Rotate = {\n\tclassName: 'llarva-pathframe-rotate',\n\tmm: {\n\t\tdraggable: true\n\t}\n};","/**\n * @requires Polyline.js\n * @requires ../frame/Path.js\n * @requires ../ext/L.Polyline.js\n * @requires ../frame/Style.js\n * \n * @type {[type]}\n */\nL.larva.handler.Polyline.Move = L.larva.handler.Polyline.extend({\n\n\taddHooks: function() {\n\t\tthis._frame = L.larva.pathFrame(this._path).addTo(this._path._map);\n\n\t\tthis._frame.setStyle(this._frameStyle);\n\n\t\tthis._frame.on('drag:start', this._onDragStart, this);\n\t\tthis._frame.on('drag:move', this._onDragMove, this);\n\t\tthis._frame.on('drag:end', this._onDragEnd, this);\n\t},\n\n\t_onDragEnd: function (evt) {\n\t\tconsole.log(evt);\n\t},\n\n\t_onDragMove: function (evt) {\n\t\tvar mouseEvt = evt.mouseEvent;\n\t\tvar pos = mouseEvt.touches && mouseEvt.touches[0] ? mouseEvt.touches[0] : mouseEvt;\n\n\t\tvar dx = 0, dy = 0;\n\n\t\tif (this._axis === undefined) {\n\t\t\tdx = pos.clientX - this._startPoint.x;\n\t\t\tdy = pos.clientY - this._startPoint.y;\n\t\t} else {\n\t\t\tif (this._axis === 'x') {\n\t\t\t\tdx = pos.clientX - this._startPoint.x;\n\t\t\t} else if (this._axis === 'y') {\n\t\t\t\tdy = pos.clientY - this._startPoint.y;\n\t\t\t}\n\t\t}\n\n\t\tif (dx === 0 && dy === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar vector = L.point(dx, dy), projected, newLatLng;\n\n\t\tthis._path.forEachLatLng(function (latlng) {\n\t\t\tprojected = this._path._map.latLngToLayerPoint(latlng._original);\n\t\t\tprojected = projected.add(vector);\n\t\t\tnewLatLng = this._path._map.layerPointToLatLng(projected);\n\t\t\tlatlng.lat = newLatLng.lat;\n\t\t\tlatlng.lng = newLatLng.lng;\n\t\t}, this);\n\n\t\tthis._path.updateBounds();\n\t\tthis._frame.updateBounds();\n\t\tthis._path.redraw();\n\n\t},\n\n\t_onDragStart: function (evt) {\n\t\tthis._startNorthWest = this._path.getBounds().getNorthWest();\n\t\tvar mouseEvt = evt.mouseEvent;\n\t\tvar startPos = mouseEvt.touches && mouseEvt.touches[0] ? mouseEvt.touches[0]: mouseEvt;\n\t\tthis._startPoint = L.point(startPos.clientX, startPos.clientY);\n\n\t\tthis._path.forEachLatLng(function (latlng) {\n\t\t\tlatlng._original = latlng.clone();\n\t\t});\n\n\t\tswitch (evt.id) {\n\t\t\tcase L.larva.frame.Path.TOP_MIDDLE:\n\t\t\tcase L.larva.frame.Path.BOTTOM_MIDDLE:\n\t\t\t\tthis._axis = 'y';\n\t\t\t\tbreak;\n\n\t\t\tcase L.larva.frame.Path.MIDDLE_LEFT:\n\t\t\tcase L.larva.frame.Path.MIDDLE_RIGHT:\n\t\t\t\tthis._axis = 'x';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tdelete this._axis;\n\t\t}\n\t}\n\n});\n\nL.Polyline.addInitHook(function () {\n\tthis.larva.move = new L.larva.handler.Polyline.Move(this, L.larva.frame.Style.Move);\n});"],"sourceRoot":"/source/"}